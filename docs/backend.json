{
  "entities": {
    "UserProfile": {
      "title": "User Profile",
      "description": "Represents a user's public profile information.",
      "type": "object",
      "properties": {
        "displayName": {
          "type": "string",
          "description": "The user's display name."
        },
        "photoURL": {
          "type": "string",
          "format": "uri",
          "description": "The URL of the user's profile picture."
        }
      }
    },
    "Product": {
      "title": "Product",
      "description": "Represents a product in the store.",
      "type": "object",
      "properties": {
        "name": { "type": "string" },
        "category": { "type": "string" },
        "price": { "type": "number" },
        "viralVelocity": { "type": "number" },
        "status": {
          "type": "string",
          "enum": ["pending", "approved", "rejected"]
        },
        "imageUrl": { "type": "string", "format": "uri" },
        "imageHint": { "type": "string" },
        "isHalalCompliant": { "type": ["boolean", "null"] },
        "complianceReasoning": { "type": ["string", "null"] },
        "seo": {
          "type": ["object", "null"],
          "properties": {
            "title": { "type": "string" },
            "description": { "type": "string" },
            "keywords": { "type": "array", "items": { "type": "string" } }
          }
        }
      }
    },
    "SocialPost": {
      "title": "Social Post",
      "description": "Represents a social media post to be scheduled.",
      "type": "object",
      "properties": {
        "productId": { "type": "string", "description": "The ID of the product this post is for." },
        "productName": { "type": "string", "description": "The name of the product this post is for." },
        "platform": { "type": "string", "enum": ["X", "Instagram", "TikTok"] },
        "post": { "type": "string", "description": "The content of the social media post." },
        "scheduledAt": { "type": "string", "format": "date-time" },
        "status": { "type": "string", "enum": ["queued", "posted", "failed"] }
      },
      "required": ["productId", "platform", "post", "scheduledAt", "status"]
    },
    "AppConfig": {
      "title": "App Configuration",
      "description": "Singleton document for application-wide settings.",
      "type": "object",
      "properties": {
        "automationIntensity": {
          "type": "string",
          "enum": ["manual", "semi-auto", "full-auto"]
        },
        "haramFilterEnabled": {
          "type": "boolean"
        },
        "dataSources": {
          "type": "array",
          "items": {
            "type": "string"
          }
        }
      }
    }
  },
  "auth": {
    "providers": [
      "email",
      "google"
    ]
  },
  "firestore": {
    "/users/{userId}": {
      "schema": {
        "$ref": "#/backend/entities/UserProfile"
      },
      "description": "Stores public information for each user."
    },
    "/products": {
      "schema": {
        "$ref": "#/backend/entities/Product"
      },
      "description": "Stores all products for the e-commerce store."
    },
    "/social_posts": {
      "schema": {
        "$ref": "#/backend/entities/SocialPost"
      },
      "description": "Stores all scheduled social media posts."
    },
    "/config/default": {
       "schema": {
        "$ref": "#/backend/entities/AppConfig"
      },
      "description": "Stores application-wide configuration settings."
    }
  }
}
